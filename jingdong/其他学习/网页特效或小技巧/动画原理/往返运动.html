<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>往返滑动</title>
	<style type="text/css">
		.box {
			width: 200px;
			height: 200px;
			background-color: pink;
			position: absolute;
			top: 100px;
			left: 0;
		}
	</style>
</head>
<body>
	<button id="btn1">300</button>
	<button id="btn2">600</button>
	<div id="box" class="box"></div>
</body>
<script>
function $(id){
	return document.getElementById(id);
}
$("btn1").onclick = function(){
	animate($("box"),300);
}
$("btn2").onclick = function(){
	animate($("box"),600);
}
function animate(obj,target){
	//第一参数为做动画的对象，第二位目标位置
	clearInterval(obj.timer);//防止多次点击加速
	var speed = target > obj.offsetLeft ? 5 : -5;
	obj.timer = setInterval(function() {
		var result = target - obj.offsetLeft;
		obj.style.left = obj.offsetLeft + speed + "px";
		if(Math.abs(result) < 5){
			//当差值小于5时
			obj.style.left = target + "px";
			clearInterval(obj.timer);
		}
	},30);
}
</script>
</html>